#pragma once

#include "resource.hpp"
#include "embedded_resources/resource_3126981312599726777.hpp"
#include "embedded_resources/resource_7556603881106790027.hpp"
#include "embedded_resources/resource_14381367057370009788.hpp"
#include "embedded_resources/resource_11952871429675989627.hpp"
#include "embedded_resources/resource_1453103019202383270.hpp"
#include "embedded_resources/resource_17495974214214295230.hpp"
#include "embedded_resources/resource_16222346625001150542.hpp"
#include "embedded_resources/resource_15961880810884371948.hpp"
#include "embedded_resources/resource_16126662360900569018.hpp"
#include "embedded_resources/resource_9508759643910089710.hpp"
#include "embedded_resources/resource_6975910120903775418.hpp"
#include "embedded_resources/resource_8867495104694417582.hpp"
#include "embedded_resources/resource_10671969735137121559.hpp"
#include "embedded_resources/resource_7200289603779701061.hpp"
#include "embedded_resources/resource_17150819399866535910.hpp"
#include "embedded_resources/resource_9225507554395683774.hpp"
#include "embedded_resources/resource_11431338934652808651.hpp"
#include "embedded_resources/resource_18011218881129316092.hpp"
#include "embedded_resources/resource_17404448839198764618.hpp"
#include "embedded_resources/resource_10604039599264331763.hpp"
#include "embedded_resources/resource_9550955058371070276.hpp"
#include "embedded_resources/resource_9162261963507646339.hpp"
#include "embedded_resources/resource_5513601353699197311.hpp"
#include "embedded_resources/resource_9582143994837232440.hpp"
#include "embedded_resources/resource_17880426697011385839.hpp"
#include "embedded_resources/resource_1682259173912325418.hpp"
#include "embedded_resources/resource_7369051294668265954.hpp"
#include "embedded_resources/resource_9926314955806432672.hpp"
#include "embedded_resources/resource_14338357782030755284.hpp"
#include "embedded_resources/resource_17163117651341958810.hpp"
#include "embedded_resources/resource_332208238769912247.hpp"
#include "embedded_resources/resource_13177006652388307822.hpp"
#include "embedded_resources/resource_9699825830242037512.hpp"
#include "embedded_resources/resource_7736256087137476443.hpp"
#include "embedded_resources/resource_908422867440665036.hpp"
#include "embedded_resources/resource_6733528840531529029.hpp"
#include "embedded_resources/resource_16451689749247673836.hpp"
#include "embedded_resources/resource_12442680368039291515.hpp"
#include "embedded_resources/resource_15258004472844539140.hpp"
#include "embedded_resources/resource_6180361286818081308.hpp"
#include "embedded_resources/resource_16311089013737800627.hpp"
#include "embedded_resources/resource_5284316122615694636.hpp"
#include "embedded_resources/resource_1659229443278887099.hpp"
#include "embedded_resources/resource_6826460111274356971.hpp"
#include "embedded_resources/resource_6423258116736183732.hpp"
#include "embedded_resources/resource_310597202658876699.hpp"
#include "embedded_resources/resource_13070826838953012323.hpp"
#include "embedded_resources/resource_4319606583867259020.hpp"
#include "embedded_resources/resource_11774202807359543870.hpp"

namespace {
class ResourceHolder {
private:
	std::array<Resource, 49> resources {
		Resource(resource_3126981312599726777,	resource_3126981312599726777_path),
		Resource(resource_7556603881106790027,	resource_7556603881106790027_path),
		Resource(resource_14381367057370009788,	resource_14381367057370009788_path),
		Resource(resource_11952871429675989627,	resource_11952871429675989627_path),
		Resource(resource_1453103019202383270,	resource_1453103019202383270_path),
		Resource(resource_17495974214214295230,	resource_17495974214214295230_path),
		Resource(resource_16222346625001150542,	resource_16222346625001150542_path),
		Resource(resource_15961880810884371948,	resource_15961880810884371948_path),
		Resource(resource_16126662360900569018,	resource_16126662360900569018_path),
		Resource(resource_9508759643910089710,	resource_9508759643910089710_path),
		Resource(resource_6975910120903775418,	resource_6975910120903775418_path),
		Resource(resource_8867495104694417582,	resource_8867495104694417582_path),
		Resource(resource_10671969735137121559,	resource_10671969735137121559_path),
		Resource(resource_7200289603779701061,	resource_7200289603779701061_path),
		Resource(resource_17150819399866535910,	resource_17150819399866535910_path),
		Resource(resource_9225507554395683774,	resource_9225507554395683774_path),
		Resource(resource_11431338934652808651,	resource_11431338934652808651_path),
		Resource(resource_18011218881129316092,	resource_18011218881129316092_path),
		Resource(resource_17404448839198764618,	resource_17404448839198764618_path),
		Resource(resource_10604039599264331763,	resource_10604039599264331763_path),
		Resource(resource_9550955058371070276,	resource_9550955058371070276_path),
		Resource(resource_9162261963507646339,	resource_9162261963507646339_path),
		Resource(resource_5513601353699197311,	resource_5513601353699197311_path),
		Resource(resource_9582143994837232440,	resource_9582143994837232440_path),
		Resource(resource_17880426697011385839,	resource_17880426697011385839_path),
		Resource(resource_1682259173912325418,	resource_1682259173912325418_path),
		Resource(resource_7369051294668265954,	resource_7369051294668265954_path),
		Resource(resource_9926314955806432672,	resource_9926314955806432672_path),
		Resource(resource_14338357782030755284,	resource_14338357782030755284_path),
		Resource(resource_17163117651341958810,	resource_17163117651341958810_path),
		Resource(resource_332208238769912247,	resource_332208238769912247_path),
		Resource(resource_13177006652388307822,	resource_13177006652388307822_path),
		Resource(resource_9699825830242037512,	resource_9699825830242037512_path),
		Resource(resource_7736256087137476443,	resource_7736256087137476443_path),
		Resource(resource_908422867440665036,	resource_908422867440665036_path),
		Resource(resource_6733528840531529029,	resource_6733528840531529029_path),
		Resource(resource_16451689749247673836,	resource_16451689749247673836_path),
		Resource(resource_12442680368039291515,	resource_12442680368039291515_path),
		Resource(resource_15258004472844539140,	resource_15258004472844539140_path),
		Resource(resource_6180361286818081308,	resource_6180361286818081308_path),
		Resource(resource_16311089013737800627,	resource_16311089013737800627_path),
		Resource(resource_5284316122615694636,	resource_5284316122615694636_path),
		Resource(resource_1659229443278887099,	resource_1659229443278887099_path),
		Resource(resource_6826460111274356971,	resource_6826460111274356971_path),
		Resource(resource_6423258116736183732,	resource_6423258116736183732_path),
		Resource(resource_310597202658876699,	resource_310597202658876699_path),
		Resource(resource_13070826838953012323,	resource_13070826838953012323_path),
		Resource(resource_4319606583867259020,	resource_4319606583867259020_path),
		Resource(resource_11774202807359543870,	resource_11774202807359543870_path),
	};

public:
	auto Gather(const std::string& file) const {
		auto it = std::find_if(resources.begin(), resources.end(), [&file](const auto& lhs) {
			return lhs.GetPath() == file;
		});
		if (it == resources.end())
			throw std::runtime_error("Unable to detect resource with name " + file);
		
		return it->GetArray();
	}

	auto Gather(const char* file) const {
		return Gather(std::string(file));
	}

	auto ListFiles() const {
		std::vector<std::string> dst{};
		dst.reserve(resources.size());
		for (auto&el : resources)
			dst.push_back(el.GetPath());

		return dst;
	}

	auto FindByFilename(const std::string& file) const {
		std::vector<Resource> dst{};
		dst.reserve(resources.size());
		std::copy_if(resources.begin(), resources.end(), std::back_inserter(dst), [&file](const auto& item) {
			auto path = item.GetPath();
			auto last_forward = path.find_last_of('\\');
			auto last_inverse = path.find_last_of('/');
			
			if (last_forward != std::string::npos)
				path = path.substr(last_forward + 1);
			else if (last_inverse != std::string::npos)
				path = path.substr(last_inverse + 1);
			return path == file;
		});
		
		return dst;
	}

	auto FindByFilename(const char* file) const {
		return FindByFilename(std::string(file));
	}

	auto operator()(const std::string& file) const {
		return Gather(file);
	}

	auto operator()(const char* file) const {
		return Gather(std::string(file));
	}
};
}
